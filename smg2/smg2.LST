C51 COMPILER V6.12  SMG2                                                                   07/31/2014 01:26:21 PAGE 1   


C51 COMPILER V6.12, COMPILATION OF MODULE SMG2
OBJECT MODULE PLACED IN .\smg2.OBJ
COMPILER INVOKED BY: D:\keilC51\C51\BIN\C51.EXE .\smg2.c DEBUG OBJECTEXTEND

stmt level    source

   1          /*********************************************************************************************		
   2          程序名: 	一位共阴数码管驱动程序  显示0~F
   3          编写人: 　　 　
   4          编写时间:	2014年7月30日　　
   5          硬件支持:	STC12C4052AD
   6          接口说明:　　 
   7          修改日志:　　
   8          　　NO.1-							
   9          /*********************************************************************************************
  10          说明:
  11          
  12          /*********************************************************************************************/
  13          
  14          #include <STC12C2052AD.H>//头文件
  15          
  16          #define uchar unsigned char	//把 unsigned char 宏定义为 uchar
  17          
  18          sbit g1 = P3^4;	//定义单片机引脚P3.4为g1
  19          sbit g2 = P3^5;	//定义单片机引脚P3.5为g2
  20          
  21          
  22          /**********************************************************************************************/
  23          //定义延时函数
  24          void delay_ms (unsigned int a)	//调用格式为"delay_ms(n)" n=0~4294967295 1000ms=1s"
  25          {	unsigned int i;
  26   1      	while( a-- != 0){
  27   2      		for(i = 0; i < 600; i++); 
  28   2      	}   				   
  29   1      }
  30          
  31          /**********************************************************************************************/
  32          //共阴数码管 0~F 的字形码
  33          uchar code tab[]={	
  34          	0x3F,/*0*/
  35          	0x06,/*1*/
  36          	0x5B,/*2*/
  37          	0x4F,/*3*/
  38          	0x66,/*4*/
  39          	0x6D,/*5*/
  40          	0x7D,/*6*/
  41          	0x07,/*7*/
  42          	0x7F,/*8*/
  43          	0x6F,/*9*/
  44          	0x77,/*A*/
  45          	0x7C,/*b*/
  46          	0x39,/*C*/
  47          	0x5E,/*d*/
  48          	0x79,/*E*/
  49          	0x71,/*F*/
  50          };
  51          /**********************************************************************************************/
  52          //主函数
  53          void main()
  54          {
  55   1      	P1M0 = 0x00;	//配置P1全部I/O口为强推挽输出
C51 COMPILER V6.12  SMG2                                                                   07/31/2014 01:26:21 PAGE 2   

  56   1      	P1M1 = 0xFF;
  57   1      
  58   1      	while(1)
  59   1      	{	int b;
  60   2      		g1=0;		//设置P3.4为低电平
  61   2      		g2=0;		//设置P3.5为低电平
  62   2      		P1=tab[b];
  63   2      		delay_ms(1000);	//1s延时
  64   2      		b++;
  65   2      	if(b==16)
  66   2      		b=0;
  67   2      	}
  68   1      }
  69          /**********************************************************************************************/
  70          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     75    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
